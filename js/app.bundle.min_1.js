!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wixRecorder",[],t):"object"==typeof exports?exports.wixRecorder=t():e.wixRecorder=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.parastorage.com/services/wix-recorder/1.21.0/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"addLabel",(function(){return D})),n.d(t,"withExperiments",(function(){return Y})),n.d(t,"addCustomAttribute",(function(){return z})),n.d(t,"recordUrl",(function(){return Q})),n.d(t,"__forceRecording",(function(){return H}));var r=function(){return window[window._fs_namespace]},o=function(){if(!r())throw Error("FullStory is not loaded, please ensure the init function is invoked before calling FullStory API functions")},i=function(){o();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return r()[e]}))},s=function(e){return function(){if(window._fs_dev_mode){var t="FullStory is in dev mode and is not recording: ".concat(e," method not executed");return console.warn(t),t}var n;return i(e)?(n=r())[e].apply(n,arguments):(console.warn("FS.".concat(e," not ready")),null)}},u=s("event"),a=(s("log"),s("getCurrentSessionURL")),c=s("identify"),l=(s("setUserVars"),s("consent"),s("shutdown")),f=(s("restart"),s("anonymize"),s("setVars"),function(e,t){return function(){window._fs_initialized?console.warn(t):(e.apply(void 0,arguments),window._fs_initialized=!0)}}((function(e,t){if(r())console.warn("The FullStory snippet has already been defined elsewhere (likely in the <head> element)");else if(e.recordCrossDomainIFrames&&(window._fs_run_in_iframe=!0),e.recordOnlyThisIFrame&&(window._fs_is_outer_script=!0),function(e){var t,n,r,o,i,s,u,a,c=e.orgId,l=e.namespace,f=void 0===l?"FS":l,p=e.debug,d=void 0!==p&&p,h=e.host,y=void 0===h?"fullstory.com":h,v=e.script,w=void 0===v?"edge.fullstory.com/s/fs.js":v;if(!c)throw new Error("FullStory orgId is a required parameter");window._fs_debug=d,window._fs_host=y,window._fs_script=w,window._fs_org=c,window._fs_namespace=f,t=window,n=document,r=window._fs_namespace,o="script",i="user",r in t?t.console&&t.console.log&&t.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((u=t[r]=function(e,t,n){u.q?u.q.push([e,t,n]):u._api(e,t,n)}).q=[],(s=n.createElement(o)).async=1,s.crossOrigin="anonymous",s.src="https://"+_fs_script,(a=n.getElementsByTagName(o)[0]).parentNode.insertBefore(s,a),u.identify=function(e,t,n){u(i,{uid:e},n),t&&u(i,t,n)},u.setUserVars=function(e,t){u(i,e,t)},u.event=function(e,t,n){u("event",{n:e,p:t},n)},u.anonymize=function(){u.identify(!1)},u.shutdown=function(){u("rec",!1)},u.restart=function(){u("rec",!0)},u.log=function(e,t){u("log",[e,t])},u.consent=function(e){u("consent",!arguments.length||e)},u.identifyAccount=function(e,t){s="account",(t=t||{}).acctId=e,u(s,t)},u.clearUserCookie=function(){},u.setVars=function(e,t){u("setVars",[e,t])},u._w={},a="XMLHttpRequest",u._w[a]=t[a],a="fetch",u._w[a]=t[a],t[a]&&(t[a]=function(){return u._w[a].apply(this,arguments)}),u._v="1.3.0")}(e),t&&r()("observe",{type:"start",callback:t}),!0===e.devMode){var n="FullStory was initialized in devMode and will stop recording";u("FullStory Dev Mode",{message_str:n}),l(),window._fs_dev_mode=!0,console.warn(n)}}),"FullStory init has already been called once, additional invocations are ignored"));function p(){return{id:d("wixClient").split("|")[6]||d("_wixCIDX")}}function d(e){return(document.cookie.match(e+"=([^;]*)")||[""]).pop()}var h,y=function(){function e(){this.listeners=[],this.setupListeners()}return e.parseEventMessage=function(e){var t=("string"==typeof e?e:"").split("|");return{eventName:t[0],payload:t[1]}},e.prototype.setupListeners=function(){var t=this;window.addEventListener("message",(function(n){var r=e.parseEventMessage(n.data),o=r.eventName,i=r.payload;o&&t.listeners.filter((function(e){return e.name===o})).forEach((function(e){var r=e.name,o=e.callback,s=e.once;o(n,i),s&&t.removeListener(r,o)}))}))},e.prototype.listen=function(e,t){var n=this;return this.listeners.push({name:e,callback:t}),function(){n.removeListener(e,t)}},e.prototype.listenOnce=function(e,t){var n=this;return this.listeners.push({name:e,callback:t,once:!0}),function(){n.removeListener(e,t)}},e.prototype.removeListener=function(e,t){this.listeners=this.listeners.filter((function(n){return n.name!==e&&n.callback!==t}))},e.prototype.emit=function(e,t,n,r){void 0===t&&(t=""),void 0===n&&(n=window.parent),void 0===r&&(r="*"),n&&n.postMessage(e+"|"+t,r)},e}(),v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create,Object.create,function(e){e.Default="",e.OwnerAccount="owner-account"}(h||(h={}));function m(e,t,n){var r,o;if("undefined"!=typeof self)if("function"==typeof n){if(void 0!==n(self[t]))return(r={})[e]=n(self[t]),r}else if(typeof self[t]===n)return(o={})[e]=self[t],o;return{}}var b=function(e){return Object.keys(h).filter((function(t){return h[t]===e})).length>0?e:void 0};var _=function(e){return"string"==typeof e&&""!==e};function g(e){void 0===e&&(e={});var t=e.forSiteOwner,n=e.forSiteVisitors,r=e.overrideCriteria,o="";if(["forSiteOwner","forSiteVisitors"].reduce((function(t,n){return e[n]?t+1:t}),0)>1)throw new Error('Only one of "forSiteOwner" or "forSiteVisitors" is accepted.');return t&&(o+=function(e){return _(e.loggedInUserId)&&_(e.siteOwnerId)?"&requestContext.forSiteOwner.loggedInUserId="+e.loggedInUserId+"&requestContext.forSiteOwner.siteOwnerId="+e.siteOwnerId:""}(t)),n&&(o+=function(e){return _(e.visitorId)&&_(e.siteOwnerId)?"&requestContext.forSiteVisitors.visitorId="+e.visitorId+"&requestContext.forSiteVisitors.siteOwnerId="+e.siteOwnerId:""}(n)),r&&(o+=function(e){return _(e.entityId)?"&requestContext.overrideCriteria.entityId="+e.entityId:""}(r)),o}function x(e){if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e}var O="/_api/wix-laboratory-server/v1/laboratory/platform/conductAllInScope",I="/_api/wix-laboratory-server/v1/laboratory/platform/conductExperiment",S="/_api/wix-laboratory-server/laboratory/conductAllInScope",U="/_api/wix-laboratory-server/laboratory/conductExperiment";function R(e,t){return-1!==e.indexOf(t?O:S)}var C=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!1),n?I+"?key="+encodeURIComponent(e)+"&fallbackValue="+encodeURIComponent(t):U+"?key="+encodeURIComponent(e)+"&fallback="+encodeURIComponent(t)};function E(e,t,n){var r=""+C(t,"",n);return e.includes(r)}var L=function(){function e(){this.urlMap=new Map,this.pendingUrlMap=new Map}return e.prototype.addUrlRequest=function(e,t){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var n=this;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return this.pendingUrlMap.set(e,t),[4,t.then((function(t){return n.addUrlResponse(e,t)}))];case 1:return r.sent(),[2]}}))}))},e.prototype.addUrlResponse=function(e,t){this.urlMap.set(e,t)},e.prototype.getUrlResponse=function(e){return this.urlMap.get(e)},e.prototype.getUrlRequest=function(e){return this.pendingUrlMap.get(e)},e.prototype.getExperimentValue=function(e,t){var n,r;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.urlMap.keys()),i=o.next();!i.done;i=o.next()){var s=i.value;if(E(s,e,t))return this.urlMap.get(s);if(R(s,t)){var u=x(this.urlMap.get(s));if("object"==typeof u&&e in u)return u[e]}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e}();function A(){return void 0===self.experimentsCacheV2&&(self.experimentsCacheV2=new L),self.experimentsCacheV2}!function(){function e(){}e.prototype.addUrlRequest=function(){},e.prototype.addUrlResponse=function(){},e.prototype.getUrlResponse=function(){},e.prototype.getUrlRequest=function(){},e.prototype.getExperimentValue=function(){}}();var P=function(){function e(e){var t;this.experiments=null!==(t=e.experiments)&&void 0!==t?t:{}}return e.prototype.get=function(e){return this.experiments[e]},e.prototype.enabled=function(e){return"true"===this.get(e)},e.prototype.pending=function(){return!1},e.prototype.ready=function(){return Promise.resolve()},e.prototype.all=function(){return this.experiments},e}(),F=function(){},k=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this,r=w(w(w(w({},m("useNewApi","__WIXEXP_USE_NEW_API","boolean")),m("conductionMethod","__WIXEXP_CONDUCTION_METHOD_",b)),m("siteOwnerId","__WIXEXP_OWNER_ACCOUNT_ID_","string")),m("loggedInUserId","__WIXEXP_LOGGED_IN_USER_ID_","string"));return n.useNewApi=void 0!==t.useNewApi?t.useNewApi:r.useNewApi||!1,n.experiments=t.experiments||{},n.loaders=new Map,n.baseUrl=(n.useNewApi,t.baseUrl||""),n.requestContext=t.requestContext||function(e){return function(e){return e.conductionMethod===h.OwnerAccount&&e.siteOwnerId&&e.loggedInUserId}(e)?{forSiteOwner:{siteOwnerId:e.siteOwnerId,loggedInUserId:e.loggedInUserId}}:{}}(r),n.onError=t.onError||F,t.scope&&n.load(t.scope),t.scopes&&t.scopes.forEach(n.load.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.add=function(e){this.experiments=w(w({},this.experiments),e)},t.prototype._addLoader=function(e,t){var n=this;return this.loaders.set(e,t),t.then((function(){n.loaders.delete(e)})),t},t.prototype._getUrlWithFallback=function(e,t){var n=this,r=A().getUrlResponse(e);if(void 0!==r)return Promise.resolve(r);var o=A().getUrlRequest(e);if(void 0!==o)return o;var i=this.loaders.get(e);if(void 0!==i)return i;var s=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="text",r.withCredentials=!0,r.onload=function(){r.status>=200&&r.status<400?t(r.responseText):n(new Error("Failed to load "+e+", status "+r.status))},r.onerror=function(){return n(new Error("Failed to load "+e))},r.send()}))}(e);return A().addUrlRequest(e,s),s.catch((function(e){return n.onError(e),t}))},t.prototype.load=function(e){var t=this,n=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?O+"?scope="+encodeURIComponent(e):S+"?scope="+encodeURIComponent(e)}(e,this.useNewApi),r=this.useNewApi?g(this.requestContext):"",o=""+this.baseUrl+n+r,i=this._getUrlWithFallback(o,"{}").then((function(e){return x(e)})).then((function(e){return t.useNewApi?e.values:e})).then((function(e){return t.add(e),e}));return this._addLoader(o,i)},t.prototype.conduct=function(e,t){var n=this,r=A().getExperimentValue(e,this.useNewApi);if(void 0!==r)return this._addConductResult(e,r);var o=C(e,t,this.useNewApi),i=this.useNewApi?g(this.requestContext):"",s=""+this.baseUrl+o+i,u=this._getUrlWithFallback(s,null!=t?t:"").then((function(t){return n._addConductResult(e,t)}));return this._addLoader(s,u)},t.prototype.pending=function(){return!!this.loaders.size},t.prototype.ready=function(){return Promise.all(Array.from(this.loaders.values()))},t.prototype._addConductResult=function(e,t){var n,r=this.useNewApi?JSON.parse(t).value:t;return this.add(((n={})[e]=r,n)),Promise.resolve(r)},t}(P),N=new k({useNewApi:!0});function T(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var t;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return[4,N.conduct(e,"false")];case 1:return[2,"true"===(t=n.sent())||"new"===t]}}))}))}var M=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},q=function(){function e(e){var t=this;this.options=e,this.isChild=window!==window.top,this.emitter=new y,this._isLoaded=!1,this.sessionUrl="",this.eventsQueue=[],window._fs_ready=function(){return t.onFsReady()}}return e.prototype.getCurrentSessionUrl=function(){return M(this,void 0,Promise,(function(){return j(this,(function(e){return[2,this.sessionUrl]}))}))},e.prototype.onFsReady=function(){var e=this;this._isLoaded=!0,this.options.onReady&&this.options.onReady(),this.sendUserDetails(),this.sessionUrl=a(!0),this.eventsQueue.forEach((function(t){return e.event.apply(e,t)}))},e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.sendUserDetails=function(){return M(this,void 0,void 0,(function(){var e;return j(this,(function(t){return(e=p().id)&&c(e),[2]}))}))},e.prototype.event=function(e,t){t=Object.fromEntries(Object.entries(t).map((function(e){var t=e[0],n=e[1];return[t.replace(/[^A-Za-z0-9_]/g,"_"),n]}))),this.isLoaded()?u(e,t):(this.eventsQueue.push([e,t]),this.eventsQueue.length>20&&this.eventsQueue.shift())},e.prototype.shouldTopFrameRecord=function(){return M(this,void 0,Promise,(function(){return j(this,(function(e){return-1!==window.location.toString().indexOf("alwaysgb")||this.sample()?[2,!0]:window===window.top?[2,this.options.smallApp?this.conductSmallAppExperiment():T("specs.fedinfra.Glassbox")]:[2,!1]}))}))},e.prototype.sample=function(){var e=this.options.sample;return e&&Math.random()<e&&!p().id},e.prototype.conductSmallAppExperiment=function(){return M(this,void 0,Promise,(function(){return j(this,(function(e){return[2,T("specs.fedinfra.GlassboxSmallApp")]}))}))},e.prototype.isContainerRecording=function(){var e=this;return new Promise((function(t){var n=0,r=function(){5!==n&&(e.emitter.emit("WIX_FULLSTORY_PING",".",window.parent),n++,o=setTimeout(r,1e3))},o=setTimeout(r,0);e.emitter.listenOnce("WIX_FULLSTORY_PONG",(function(){clearTimeout(o),t(!0)}))}))},e.prototype.forceRecording=function(){this.emitter.emit("WIX_FULLSTORY_FORCE_RECORD","",window.parent)},e.prototype.setupForceListeners=function(){var e=this;this.emitter.listen("WIX_FULLSTORY_FORCE_RECORD",(function(){return M(e,void 0,void 0,(function(){var e,t;return j(this,(function(n){switch(n.label){case 0:return[4,this.conductSmallAppExperiment()];case 1:if(!n.sent())return[2];for(this.load(),e=0;e<window.frames.length;e+=1)t=window.frames[e],this.emitter.emit("WIX_FULLSTORY_PONG","",t);return[2]}}))}))}))},e.prototype.listenPingAndReplyPong=function(){var e=this;this.emitter.listen("WIX_FULLSTORY_PING",(function(t,n){e.isChild&&e.emitter.emit("WIX_FULLSTORY_PING",n,window.parent),e.emitter.emit("WIX_FULLSTORY_PONG","",t.source,t.origin)}))},e.prototype.loadAndListen=function(){this.load(),this.listenPingAndReplyPong()},e.prototype.load=function(){f({orgId:"11CC00",recordCrossDomainIFrames:!0})},e.prototype.forceLoadFullstory=function(){return M(this,void 0,void 0,(function(){return j(this,(function(e){return this.isChild||this.isLoaded()||this.loadAndListen(),[2]}))}))},e.prototype.setup=function(){return M(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return this.isChild?(this.options.smallApp&&this.forceRecording(),[4,this.isContainerRecording()]):[3,2];case 1:return e.sent()&&this.loadAndListen(),[3,4];case 2:return this.setupForceListeners(),[4,this.shouldTopFrameRecord().catch((function(){return!1}))];case 3:e.sent()&&this.loadAndListen(),e.label=4;case 4:return[2]}}))}))},e}(),X=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},V=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},W=function(){var e,t={};try{var n=null===(e=null===document||void 0===document?void 0:document.currentScript)||void 0===e?void 0:e.dataset;n&&(t.sample="string"==typeof n.sample?parseFloat(n.sample):void 0,t.smallApp="true"===n.smallApp)}catch(e){}return t}(),G=new q({onReady:window.__wr_on_ready,sample:W.sample,smallApp:W.smallApp});function D(e){return X(this,void 0,void 0,(function(){return V(this,(function(t){return[2,G.event("wix recorder custom attribute",{label:e})]}))}))}function Y(e){return X(this,void 0,Promise,(function(){return V(this,(function(t){return G.event("Experiment",e),[2]}))}))}function z(e,t){return X(this,void 0,Promise,(function(){var n;return V(this,(function(r){return G.event("wix recorder custom attribute",((n={})[e]=t,n)),[2]}))}))}function Q(){return X(this,void 0,Promise,(function(){return V(this,(function(e){return[2,G.getCurrentSessionUrl()]}))}))}function H(){return X(this,void 0,Promise,(function(){return V(this,(function(e){return[2,G.forceLoadFullstory()]}))}))}G.setup()}])}));